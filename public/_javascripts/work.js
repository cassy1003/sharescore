// Generated by CoffeeScript 1.3.3

namespace('_socket', function(exports) {
  var socket;
  socket = io.connect(null, {
    port: 7777
  });
  socket.on('connect', function(message) {});
  socket.on('message', function(message) {
    return _handler[message.method](message);
  });
  return exports.send = function(params) {
    return socket.emit('message', params);
  };
});

namespace('_handler', function(exports) {
  exports.sendMessage = function() {
    var message, type, who, whom;
    message = $('#send-message').val();
    if (!message) {
      alert('input message');
      return;
    }
    whom = $('#send-whom').attr('value');
    who = $('#send-who').attr('value');
    type = $('input["@name=message-type"]:checked').val();
    _socket.send({
      method: 'whisper',
      type: type,
      msg: message,
      whom: whom,
      who: who
    });
    return $('#send-message').val('');
  };
  exports.selectSendMenu = function(label, menu) {
    $("#send-" + menu).attr('value', label);
    return $("#send-" + menu).text($("#send-" + menu + "-" + label).text());
  };
  exports.getFeed = function(params) {
    return $("#feed-area").prepend(params.text);
  };
  return exports.showAlert = function(params) {
    return alert(params.message);
  };
});
